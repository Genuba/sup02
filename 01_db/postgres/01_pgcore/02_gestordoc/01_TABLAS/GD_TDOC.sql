/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 13.5 		*/
/*  Created On : 28-may.-2020 8:45:19 p. m. 				*/
/*  DBMS       : DB2 						*/
/* ---------------------------------------------------- */

/* Drop Tables */

--DROP TABLE GD_TDOC;

/* Create Tables */

CREATE TABLE GD_TDOC
(
	DOC_DOC INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY,
	DOC_ASUNTO VARCHAR(30) NOT NULL,
	DOC_USER VARCHAR(30) NOT NULL,
	DOC_REVIEW VARCHAR(30) NOT NULL,
	DOC_SENDER VARCHAR(150) NOT NULL,
	DOC_SEND INTEGER NULL,
	DOC_CODE VARCHAR(30) NULL,
	DOC_REC INTEGER NULL,
	DOC_RUTE VARCHAR(30) NULL,
	DOC_TYPE INTEGER NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE GD_TDOC ADD CONSTRAINT PK_DOC_DOC
	PRIMARY KEY (DOC_DOC)
;

CREATE INDEX IXFK_GD_TDOC_GD_TRECEIVER ON GD_TDOC (DOC_REC ASC)
;

CREATE INDEX IXFK_GD_TDOC_GD_TSEND ON GD_TDOC (DOC_SEND ASC)
;

CREATE INDEX IXFK_GD_TDOC_GD_TTYPE ON GD_TDOC (DOC_TYPE ASC)
;

/* Create Foreign Key Constraints */

ALTER TABLE GD_TDOC ADD CONSTRAINT FK_GD_TDOC_GD_TRECEIVER
	FOREIGN KEY (DOC_REC) REFERENCES GD_TRECEIVER (REC_REC) ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE GD_TDOC ADD CONSTRAINT FK_GD_TDOC_GD_TSEND
	FOREIGN KEY (DOC_SEND) REFERENCES GD_TSEND (SEND_SEND) ON DELETE No Action ON UPDATE No Action
;

ALTER TABLE GD_TDOC ADD CONSTRAINT FK_GD_TDOC_GD_TTYPE
	FOREIGN KEY (DOC_TYPE) REFERENCES GD_TTYPE (TYPE_TYPE) ON DELETE No Action ON UPDATE No Action
;

/* Create Table Comments */

COMMENT ON TABLE GD_TDOC
	IS 'Tabla para generar nuevos tipos de documentos'
;